<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>accesseasy — Decentralized Event Payments</title>
  <meta name="description" content="accesseasy — event payment layer on Solana" />

  <style>
    :root{
      /* Pastel blue palette with orange & white accents */
      --bg: #e8f4ff;               /* light pastel blue page background */
      --panel: #d6eefd;            /* slightly darker pastel card */
      --muted-panel: #cbe7ff;      /* subtle card border */
      --accent-orange: #ff9f4a;    /* orange accent */
      --accent-orange-2: #ffb86b;  /* lighter orange */
      --white: #ffffff;
      --text: #07263a;             /* dark blue text */
      --muted: #4b6b7a;            /* muted text */
      --border: rgba(7,38,58,0.08);
      --glass: rgba(255,255,255,0.6);
      --shadow: 0 8px 30px rgba(7,38,58,0.08);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,var(--bg), #d6f0ff 60%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }

    /* Topbar */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 20px;
      backdrop-filter: blur(6px);
      background: linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.35));
      border-bottom: 1px solid var(--border);
      box-shadow: 0 2px 8px rgba(7,38,58,0.04);
      position:sticky;
      top:0;
      z-index:100;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .brand img.logo{
      width:56px;
      height:56px;
      border-radius:12px;
      object-fit:cover;
      box-shadow: 0 6px 16px rgba(7,38,58,0.08);
      border: 3px solid var(--white);
    }
    .brand .title{
      display:flex;
      flex-direction:column;
      line-height:1;
    }
    .brand .title h1{
      margin:0;
      font-size:1.05rem;
      color:var(--text);
    }
    .brand .title p{
      margin:0;
      font-size:0.78rem;
      color:var(--muted);
    }

    .social{
      display:flex;
      gap:8px;
      align-items:center;
    }
    .icon-btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:40px;
      height:40px;
      border-radius:10px;
      background:var(--white);
      border:1px solid rgba(7,38,58,0.06);
      color:var(--text);
      text-decoration:none;
      box-shadow: 0 4px 12px rgba(7,38,58,0.06);
    }
    .icon-btn:hover{transform:translateY(-2px)}

    /* Page layout */
    .container{
      max-width:1120px;
      margin:28px auto;
      padding:0 20px 80px;
    }

    header{
      display:flex;
      align-items:center;
      gap:20px;
      margin-bottom:18px;
    }

    header .hero{
      flex:1;
    }
    header h2{
      margin:0 0 8px 0;
      font-size:1.6rem;
      color:var(--text);
    }
    header p.lead{
      margin:0;
      color:var(--muted);
      font-size:0.95rem;
      max-width:760px;
    }

    /* Action panel + grid */
    .grid{
      display:grid;
      grid-template-columns: 1fr 420px;
      gap:20px;
      align-items:start;
    }

    .card{
      background: linear-gradient(180deg,var(--panel), rgba(255,255,255,0.6));
      border-radius:14px;
      padding:18px;
      box-shadow:var(--shadow);
      border:1px solid var(--muted-panel);
    }

    /* form elements */
    label{display:block;font-size:0.9rem;color:var(--muted);margin-bottom:6px}
    input[type="text"], textarea, select {
      width:100%;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid rgba(7,38,58,0.06);
      background:linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.65));
      color:var(--text);
      outline:none;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.2);
    }
    textarea{min-height:110px;resize:vertical}

    .ticket-options{display:flex;flex-wrap:wrap;gap:8px}
    .ticket-options label{
      background:linear-gradient(180deg, rgba(255,255,255,0.65), rgba(255,255,255,0.55));
      border:1px solid rgba(7,38,58,0.04);
      padding:8px 12px;border-radius:10px;cursor:pointer;color:var(--text);font-weight:600;
    }
    .ticket-options input{display:none}
    .ticket-options input:checked+span,
    .ticket-options input:checked+label{
      background:linear-gradient(180deg, var(--accent-orange-2), var(--accent-orange));
      color:#082028;
    }

    .asset-buttons{margin-top:6px;display:flex;gap:8px;flex-wrap:wrap}
    .asset-buttons button{
      padding:8px 10px;border-radius:10px;border:1px solid rgba(7,38,58,0.05);
      background:transparent;color:var(--text);cursor:pointer;font-weight:600;
    }
    .asset-buttons button.active{
      background:linear-gradient(90deg,var(--accent-orange-2),var(--accent-orange));
      color:#07263a;
      transform:translateY(-2px);
    }

    .actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}
    .btn-primary{
      background:linear-gradient(90deg,var(--accent-orange),var(--accent-orange-2));
      color:var(--white);
      border:none;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer;
      box-shadow: 0 8px 18px rgba(255,159,74,0.18);
    }
    .btn-ghost{
      background:transparent;border:1px solid rgba(7,38,58,0.06);color:var(--text);padding:10px 14px;border-radius:10px;cursor:pointer;
    }

    /* Fees panel specifics */
    .fees-box{background:linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.45)); border-radius:10px; padding:12px; margin-top:10px; border:1px solid rgba(7,38,58,0.04)}
    .fees-row{display:flex;justify-content:space-between;padding:8px 6px;border-bottom:1px dashed rgba(7,38,58,0.04)}
    .fees-row:last-child{border-bottom:none}
    .fees-row .label{color:var(--muted)}
    .fees-row .value{font-weight:700;color:var(--text)}

    /* Responsive */
    @media (max-width:980px){
      .grid{grid-template-columns:1fr}
      header{flex-direction:column;align-items:flex-start;gap:10px}
    }
  </style>
</head>
<body>
  <div class="topbar" role="banner" aria-label="Topbar">
    <div class="brand">
      <!-- The PNG referenced below must be saved in the repo as assets/ticket.png -->
      <img class="logo" src="assets/ticket.png" alt="accesseasy ticket logo (save as assets/ticket.png)">
      <div class="title">
        <h1>accesseasy</h1>
        <p>Next-gen event payments on Solana</p>
      </div>
    </div>

    <nav class="social" aria-label="Social links">
      <a class="icon-btn" href="https://github.com/accesseasy" target="_blank" rel="noopener">GitHub</a>
      <a class="icon-btn" href="https://x.com/vntlayer" target="_blank" rel="noopener">X</a>
      <a class="icon-btn" href="https://t.me/NWO_sol_token_official" target="_blank" rel="noopener">TG</a>
      <a class="icon-btn" href="https://pump.fun/coin/HBpx1KCMhqsB5yKrZTqX747EPGTdfm8LJeUgNsbGpump" target="_blank" rel="noopener">PumpFun</a>
    </nav>
  </div>

  <main class="container">
    <header>
      <div class="hero">
        <h2>Create events & accept crypto payments — easy, fast, secure</h2>
        <p class="lead">Use accesseasy to mint tickets, accept payments on Solana and manage access — non-custodial and low-fee.</p>
      </div>
      <div style="width:120px;display:flex;align-items:center;justify-content:center">
        <img src="assets/ticket.png" alt="ticket" style="width:110px;height:110px;border-radius:12px;box-shadow:0 12px 30px rgba(7,38,58,0.08)">
      </div>
    </header>

    <section class="grid">
      <!-- Left: Main form -->
      <div class="card" aria-labelledby="form-heading">
        <h3 id="form-heading" style="margin-top:0">Host Dashboard</h3>

        <label for="address">Address</label>
        <input id="address" type="text" placeholder="Event address (venue)">

        <label style="margin-top:10px">Number of Tickets</label>
        <div class="ticket-options" role="radiogroup" aria-label="ticket quantities">
          <label><input type="radio" name="tickets" value="100"><span>100</span></label>
          <label><input type="radio" name="tickets" value="250"><span>250</span></label>
          <label><input type="radio" name="tickets" value="500"><span>500</span></label>
          <label><input type="radio" name="tickets" value="1000"><span>1000</span></label>
          <label><input type="radio" name="tickets" value="2500"><span>2500</span></label>
          <label><input type="radio" name="tickets" value="10000"><span>10000</span></label>
        </div>

        <label style="margin-top:12px">Payment Asset</label>
        <div class="asset-buttons" role="group" aria-label="Payment assets">
          <button type="button" data-asset="USDC">USDC</button>
          <button type="button" data-asset="EURC">EURC</button>
          <button type="button" data-asset="NWO">NWO</button>
          <button type="button" data-asset="DESPERADO">DESPERADO</button>
        </div>

        <div class="actions">
          <button class="btn-primary" id="save-event">Save Event</button>
          <button class="btn-ghost" id="reset">Reset</button>
        </div>
      </div>

      <!-- Right: Fees -->
      <aside class="card" aria-labelledby="fees-heading">
        <h3 id="fees-heading" style="margin-top:0">Fees & Conversions</h3>

        <div class="fees-box" role="status" aria-live="polite">
          <div class="fees-row"><div class="label">Platform Fee</div><div class="value" id="platform-fee">—</div></div>
          <div class="fees-row"><div class="label">Total Fee</div><div class="value" id="total-fee">—</div></div>
          <div class="fees-row"><div class="label" id="asset-amt-label">Amount in selected asset</div><div class="value" id="asset-amt">t.b.a</div></div>

          <div style="margin-top:10px">
            <div class="token-row"><div class="token-name">SOL price (USD)</div><div class="token-value" id="sol-usd">—</div></div>
            <div class="token-row"><div class="token-name">DESPERADO</div><div class="token-value" id="tok1-amt">—</div></div>
            <div class="token-row"><div class="token-name">NWO</div><div class="token-value" id="tok2-amt">—</div></div>
            <div class="small" style="margin-top:8px">Live conversions update automatically when you select tickets or a payment asset.</div>
          </div>
        </div>
      </aside>
    </section>
  </main>

  <script>
    // Basic interactive logic (keeps behavior inline with the new styling)
    (function(){
      const FEE_TABLE = { "100":0.3,"250":0.55,"500":1.0,"1000":1.8,"2500":3.0,"10000":9.0 };
      const COINGECKO_CONTRACT_API = 'https://api.coingecko.com/api/v3/coins/solana/contract/';
      const COINGECKO_SIMPLE = 'https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd';

      const ticketRadios = Array.from(document.querySelectorAll('input[name="tickets"]'));
      const assetButtons = Array.from(document.querySelectorAll('.asset-buttons button'));
      const platformFeeEl = document.getElementById('platform-fee');
      const totalFeeEl = document.getElementById('total-fee');
      const assetAmtEl = document.getElementById('asset-amt');
      const assetAmtLabel = document.getElementById('asset-amt-label');
      const solUsdEl = document.getElementById('sol-usd');
      const tok1El = document.getElementById('tok1-amt');
      const tok2El = document.getElementById('tok2-amt');

      // Known contracts for USDC/EURC (as requested)
      const USDC_CONTRACT = 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v';
      const EURC_CONTRACT = 'HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr';

      let selectedTicket = null;
      let totalSOL = 0;
      let selectedAsset = null;

      function fmtSOL(s){ return s.toFixed(6) + ' SOL'; }
      function safeFmt(n){ if(n==null || !isFinite(n)) return 't.b.a'; return Number(n.toFixed(6)).toString(); }

      function updateFeesUI(){
        const sel = ticketRadios.find(r=>r.checked);
        if(!sel){ platformFeeEl.textContent='—'; totalFeeEl.textContent='—'; assetAmtEl.textContent='t.b.a'; selectedTicket=null; totalSOL=0; return; }
        selectedTicket = sel.value;
        totalSOL = FEE_TABLE[selectedTicket];
        platformFeeEl.textContent = fmtSOL(totalSOL);
        totalFeeEl.textContent = fmtSOL(totalSOL);
        updateConversions();
      }

      async function fetchSolUsd(){
        try{
          const res = await fetch(COINGECKO_SIMPLE);
          const j = await res.json();
          return j?.solana?.usd ?? null;
        }catch(e){ return null; }
      }
      async function fetchTokenUsdByContract(contract){
        try{
          const res = await fetch(COINGECKO_CONTRACT_API + encodeURIComponent(contract));
          if(!res.ok) return null;
          const j = await res.json();
          return j?.market_data?.current_price?.usd ?? null;
        }catch(e){ return null; }
      }

      async function updateConversions(){
        solUsdEl.textContent = 'Loading...';
        tok1El.textContent = 'Loading...';
        tok2El.textContent = 'Loading...';
        assetAmtEl.textContent = 't.b.a';

        const solUsd = await fetchSolUsd();
        if(solUsd) solUsdEl.textContent = '$' + Number(solUsd).toFixed(2);
        else solUsdEl.textContent = 'N/A';

        if(!selectedTicket || !totalSOL){
          tok1El.textContent = 't.b.a';
          tok2El.textContent = 't.b.a';
          return;
        }

        // For DESPERADO/NWO we keep placeholder behavior (you can hook Jupiter here)
        tok1El.textContent = 't.b.a';
        tok2El.textContent = 't.b.a';

        // If selected asset is USDC/EURC calculate amount in that stablecoin
        if(selectedAsset === 'USDC'){
          assetAmtLabel.textContent = 'Amount in USDC';
          const tokenUsd = await fetchTokenUsdByContract(USDC_CONTRACT);
          if(!tokenUsd || !solUsd){ assetAmtEl.textContent = 't.b.a'; return; }
          const amount = (totalSOL * solUsd) / tokenUsd;
          assetAmtEl.textContent = safeFmt(amount);
          return;
        }
        if(selectedAsset === 'EURC'){
          assetAmtLabel.textContent = 'Amount in EURC';
          const tokenUsd = await fetchTokenUsdByContract(EURC_CONTRACT);
          if(!tokenUsd || !solUsd){ assetAmtEl.textContent = 't.b.a'; return; }
          const amount = (totalSOL * solUsd) / tokenUsd;
          assetAmtEl.textContent = safeFmt(amount);
          return;
        }

        // otherwise
        assetAmtLabel.textContent = 'Amount in selected asset';
        assetAmtEl.textContent = 't.b.a';
      }

      // wire interactions
      ticketRadios.forEach(r=>r.addEventListener('change', updateFeesUI));
      assetButtons.forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          assetButtons.forEach(b=>b.classList.remove('active'));
          btn.classList.add('active');
          selectedAsset = btn.dataset.asset;
          updateConversions();
        });
      });

      document.getElementById('reset').addEventListener('click', ()=>{
        document.getElementById('event-form').reset();
        assetButtons.forEach(b=>b.classList.remove('active'));
        selectedAsset = null;
        platformFeeEl.textContent='—'; totalFeeEl.textContent='—'; assetAmtEl.textContent='t.b.a'; solUsdEl.textContent='—';
        selectedTicket = null; totalSOL = 0;
      });

      // initialize if a ticket was preselected
      updateFeesUI();

    })();
  </script>
</body>
</html>
